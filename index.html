<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoxelS</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="icon512_rounded.png" type="image/x-icon">
    <!-- manifest -->
    <link rel="manifest" href="manifest.json">

</head>
<body>
    <header>
        <nav class="navbar">
            <h1 class="navbar-title">VoxelS</h1>
        </nav>
    </header>
    <main>
        <canvas id="canvas"></canvas>
        <!-- <div class="presets">
            <strong>Presets:</strong>
            <ul>
                <li>
                    <button class="preset">Warrior</button>
                </li>
                <li>
                    <button class="preset">Chicken</button>
                </li>
            </ul>
        </div> -->

        <div class="control-hint">
            <button class="minimize-btn" onclick="toggleControlHint()">X</button>
            <strong>Controls:</strong><br>
            - Right click to place voxel<br>
            - Left click to remove voxel<br>
            - Press <strong>E</strong> to export<br>
            - Press <strong>P</strong> to pick color<br>
            - Press <strong>Ctrl + Z</strong> to undo<br>
            - Press <strong>Ctrl + Y</strong> to redo<br>
            - Press <strong>S</strong> to switch modes
        </div>
    </main>
    <script type="module" src="./src/main.js"></script>
    <script>
        // Function to toggle the visibility of presets
        function togglePresets() {
            const presets = document.querySelector('.presets');
            presets.classList.toggle('hidden');
        }

        // Function to toggle the visibility of control hint
        function toggleControlHint() {
            const controlHint = document.querySelector('.control-hint');
            controlHint.classList.toggle('hidden');
        }


        const urlParams = new URLSearchParams(window.location.search);
        // remove it and save it to local storage
        if (urlParams.has('code')) {
            const code = urlParams.get('code');
            const url = urlParams.get('ref');
            
            // also save it to local storage
            localStorage.setItem('voxelsCode', code);
            localStorage.setItem('voxelsPull', url);
            
            // check if the code is in the public folder if not create it
            fetch('/server/api/modeling/get?unique_code=' + code, {
                method: 'GET'
            })
            .then(response => {
              console.log(response);
            })
            .then(data => {
                console.log(data);
            })
            .catch(error => {
            });
       
        }


    </script>
</body>
</html>
